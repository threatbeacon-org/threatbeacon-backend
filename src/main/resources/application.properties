## CONFIGURACIÓN DE LA BASE DE DATOS (DataSource) ##

spring.application.name=threatbeacon-backend

# 1. Driver de PostgreSQL (Indica a Spring que use el controlador JDBC para PostgreSQL)
spring.datasource.driver-class-name=org.postgresql.Driver

# 2. URL de Conexión
# Spring leerá el valor de la variable de entorno DB_URL que inyectaste en IntelliJ
spring.datasource.url=${DB_URL}

# 3. Usuario de la Base de Datos
# Spring leerá el valor de la variable de entorno DB_USER
spring.datasource.username=${DB_USER}

# 4. Contraseña de la Base de Datos
# Spring leerá el valor de la variable de entorno DB_PASSWORD
spring.datasource.password=${DB_PASSWORD}

---

## ? CONFIGURACIÓN DE JPA / HIBERNATE ##

# 5. Dialecto de Hibernate
# Le dice a Hibernate que use sintaxis SQL optimizada para PostgreSQL.
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# 6. Deshabilitar DDL automático de Hibernate (Crucial)
# Esto evita que Hibernate intente crear o modificar las tablas automáticamente.
# Le decimos que confíe en el script 'schema.sql' que manejamos manualmente.
spring.jpa.hibernate.ddl-auto=none

# (Opcional) Muestra el SQL generado por Hibernate en la consola (útil para debug)
# spring.jpa.show-sql=true

---

## ? INICIALIZACIÓN DE SCRIPTS SQL (schema.sql) ##

# 7. Forzar la Ejecución del Script (Solución a tu problema)
# Le indica a Spring que siempre debe ejecutar los scripts de inicialización SQL
# (como schema.sql) al arrancar, asegurando que tu tabla 'events' se cree.
spring.sql.init.mode=always

# Define usuario fijo para pruebas locales. ¡No usar en producción!
spring.security.user.name=admin
spring.security.user.password={noop}Qwe.123*